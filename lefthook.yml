pre-commit:
  parallel: true
  commands:
    # Rust フォーマット
    rust-fmt:
      glob: 'backend/**/*.rs'
      run: cd backend && cargo fmt
    frontend-format:
      glob: 'frontend/src/**/*.{js,ts,svelte,json}'
      run: cd frontend && npx prettier --write {staged_files}
    frontend-lint:
      glob: 'frontend/src/**/*.{js,ts,svelte}'
      run: cd frontend && npx eslint {staged_files} --fix
    root-format:
      glob: '*.{js,ts,json,md,yaml,yml}'
      run: npx prettier --write {staged_files}
    rust-clippy:
      glob: 'backend/**/*.rs'
      run: cd backend && cargo clippy -- -D warnings

pre-push:
  parallel: true
  commands:
    # プッシュ前のテスト実行
    backend-test:
      run: cd backend && cargo test

    frontend-test:
      run: cd frontend && npm run test

commit-msg:
  commands:
    # コミットメッセージの検証（オプション）
    commitlint:
      run: echo "Commit message validation passed"
